(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){e.exports=a(235)},120:function(e,t,a){},124:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},125:function(e,t,a){},169:function(e,t){},171:function(e,t){},204:function(e,t){},235:function(e,t,a){"use strict";a.r(t);var n,c,o,r,i=a(0),l=a.n(i),s=a(113),m=a.n(s),u=(a(120),a(70)),d=a.n(u),h=a(114),p=a(35),f=a(22),b=a(23),E=a(25),y=a(24),g=a(26),v=(a(36),a(124),a(125),a(72),document.getElementById("root"),a(72)),w=[],k="",O="",T="aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",j="e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473",N=new URL(document.location).searchParams,M=N.get("network"),A=N.get("referral")||"accountbadla";console.log(A),"main"==M?(o=T,c="accountbadla",r="https://api.eosnewyork.io:443"):(o=j,c="eoslottotest",r="https://jungle2.cryptolions.io:443");var C,S=v({httpEndpoint:r,chainId:o}),I=window.$,P=window.moment;function x(){S=v({keyProvider:k,httpEndpoint:r,chainId:o}),{authorization:O+"@active",broadcast:!0,sign:!0},C=v.modules.ecc.privateToPublic(k),function(e){if(console.log(w),0==w.length||-1==w[0])return t="No Predictions Selected",a="alert-warning",I("#alert_placeholder").append('<div id="alertdiv" className="alert '+a+'"><a className="close" data-dismiss="alert">\xd7</a><span>'+t+"</span></div>"),void setTimeout(function(){I("#alertdiv").remove()},3e3);var t,a;I("#betProgress").modal(),B("assets/img/waiting.png","Please wait, while the bets are being placed"),console.log(w[0]),S.contract(c).then(function(e){B("assets/img/permissions.png","Getting the required permissions"),S.updateauth({account:O,permission:"active",parent:"owner",auth:{keys:[{key:C,weight:1}],threshold:1,accounts:[{permission:{actor:c,permission:"eosio.code"},weight:1}],waits:[]}},{authorization:O+"@active"}).then(function(t){B("assets/img/payment.png","Sending 0.5 EOS to the contract"),console.log("predictions"),console.log(w),e.placebet({user:O,bet:"0.0010 EOS",predictions:w,referral:A},{authorization:[{actor:O,permission:"active"}]}).then(function(e){console.log(e),B("assets/img/placed.png","Your bet has been placed")}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})})}()}function L(e){var t={backgroundColor:e.value};return l.a.createElement("td",{style:t,onClick:e.onClick}," ")}I(window).ready(function(){I("#tutorial").click(function(){I("#tutorialModal").modal()}),I("#referral").click(function(){I("#referralModal").modal()}),I("#referralurl").text(window.location.href.toLowerCase()+"?referral=youreosaccount"),I("#loginButton").click(function(){k=I("#keyInput").val(),O=I("#username").val(),I("#inputKey").modal("hide"),x()})});var U=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={slots:[0,0,0]},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.setPrediction(this.props.prediction-1)}},{key:"setPrediction",value:function(e){var t=[0,0,0];t[e]=1,this.setState({slots:t}),w[this.props.match_key]=e}},{key:"draw",value:function(e){return e?"#9c27b0":"#ffffff"}},{key:"render",value:function(){var e=this;return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("i",{className:"fa fa-calendar"}," ")," ",P.unix(this.props.time).format("MMMM D - hh:mm A")),l.a.createElement("td",null,l.a.createElement("img",{src:"assets/img/"+this.props.homeTeam+".png",height:"25px"})," ",this.props.homeTeam),l.a.createElement("td",null,l.a.createElement("img",{src:"assets/img/"+this.props.awayTeam+".png",height:"25px"})," ",this.props.awayTeam),!this.props.isAdmin&&this.state.slots.map(function(t,a){return l.a.createElement(L,{key:a,value:e.draw(t),onClick:function(){return e.setPrediction(a)}})}),this.props.isAdmin&&l.a.createElement("td",{style:{backgroundColor:"#212529"}},l.a.createElement("button",{onClick:function(){return e.props.removeMatch(e.props.match_key)},type:"button",className:"btn btn-sm btn-danger"},"DELETE")))}}]),t}(l.a.Component);function B(e,t){I("#progressImage").attr("src",e),I("#progressStatus").text(t)}var W=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Kick Off"),l.a.createElement("th",{scope:"col"},"Home Team"),l.a.createElement("th",{scope:"col"},"Away Team"),l.a.createElement("th",{scope:"col"},"Home "),l.a.createElement("th",{scope:"col"},"Away "),l.a.createElement("th",{scope:"col"},"Draw"))}}]),t}(l.a.Component),R=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Kick Off"),l.a.createElement("th",{scope:"col"},"Home Team"),l.a.createElement("th",{scope:"col"},"Away Team"),l.a.createElement("th",{scope:"col"},"Action"))}}]),t}(l.a.Component),_=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e))).state={matches:[]},a.loggedIn=a.loggedIn.bind(Object(p.a)(Object(p.a)(a))),a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"fetchMatches",value:function(){var e=[{homeTeam:"EVE",awayTeam:"LEI",time:1546345800,prediction:null},{homeTeam:"ARS",awayTeam:"FUL",time:1546354800,prediction:null},{homeTeam:"CAR",awayTeam:"SPU",time:1546363800,prediction:null},{homeTeam:"BOU",awayTeam:"WAT",time:1546458300,prediction:null},{homeTeam:"CHE",awayTeam:"SOU",time:1546458300,prediction:null},{homeTeam:"HUD",awayTeam:"BUR",time:1546458300,prediction:null},{homeTeam:"WHU",awayTeam:"BRI",time:1546458300,prediction:null},{homeTeam:"WOL",awayTeam:"CRY",time:1546458300,prediction:null},{homeTeam:"NEW",awayTeam:"MUN",time:1546459200,prediction:null},{homeTeam:"MCI",awayTeam:"LIV",time:1546545600,prediction:null}];this.setState({matches:e})}},{key:"updatePrediction",value:function(e,t){}},{key:"componentWillMount",value:function(){this.props.isAdmin||this.setState({matches:[]})}},{key:"removeMatch",value:function(e){(n=this.state.matches).splice(e,1),this.setState({matches:n})}},{key:"loggedIn",value:function(e){this.props.isAdmin||this.fetchMatches()}},{key:"matchAdded",value:function(e){n=this.state.matches;var t=e.detail;n.push(t),this.setState({matches:n})}},{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchMatches();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnMount",value:function(){}},{key:"render",value:function(){var e=this;return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,this.props.isAdmin&&l.a.createElement(R,null),!this.props.isAdmin&&l.a.createElement(W,null)),l.a.createElement("tbody",null,this.state.matches.map(function(t,a){return l.a.createElement(U,{key:a,prediction:t.prediction,time:t.time,homeTeam:t.homeTeam,awayTeam:t.awayTeam,match_key:a,isAdmin:e.props.isAdmin,removeMatch:e.removeMatch})})))}}]),t}(l.a.Component),H=function(e){function t(){return Object(f.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"main main-raised"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{id:"game",className:"section text-center"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 ml-auto mr-auto"},l.a.createElement("h2",{className:"title"},l.a.createElement("i",{className:"fa fa-futbol-o"}," ")," EPL Matches"),l.a.createElement("br",null),l.a.createElement(_,{isAdmin:!1}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("a",{onClick:function(){I("#inputKey").modal()},target:"_blank",style:{color:"white"},className:"btn btn-danger btn-raised btn-lg"},l.a.createElement("i",{className:"fa fa-diamond"})," Bet 0.5 EOS"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),"    ",l.a.createElement("div",{id:"alert_placeholder"}),l.a.createElement("div",{className:"modal",id:"winners",tabIndex:"-1",role:"dialog",style:{color:"black"}},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("center",null,l.a.createElement("iframe",{src:"https://giphy.com/embed/FgboyOLK5RSz6",width:"344",height:"480",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0}),l.a.createElement("p",null,l.a.createElement("a",{href:"https://giphy.com/gifs/football-FgboyOLK5RSz6"})),l.a.createElement("h2",{id:"winner_name"}," ")," ")))))))))))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[115,2,1]]]);
//# sourceMappingURL=main.ae186c85.chunk.js.map